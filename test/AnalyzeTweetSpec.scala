import org.specs2.mutable._
import org.specs2.runner._
import org.junit.runner._

import play.api.test._
import play.api.test.Helpers._
import play.api.libs.json._

import controllers.Analyze

@RunWith(classOf[JUnitRunner])
class AnalyzeTweetSpec extends Specification {

  val testTweets = """
    [
    {"created_at":"Tue Nov 04 12:43:57 +0000 2014","id":529615031671853056,"id_str":"529615031671853056","text":"今日は社内SNS企画のオフ会で、笑座こんぱるさんへ行って来ましたー。\n初のニューハーフショーだったけど、楽しすぎー！優雅で綺麗でパワフルで圧巻のステージめっちゃ動く！！\nそしてこの圧倒的敗北感な。所詮プログラマですよよよ。笑 http://t.co/XjieeVDMjQ","source":"<a href=\"http://twitter.com/download/iphone\" rel=\"nofollow\">Twitter for iPhone</a>","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":931483704,"id_str":"931483704","name":"Hiroka Hamada","screen_name":"hrk0619","location":"","profile_location":null,"description":"プログラマー(Lv0.4)がきっと泣き言をつぶやいてます。ScalaねいてぃぶなのにJavaかいてるなう。医療系出身。お休みの日はニコ動で歌ってみたりも@rosyvent","url":"http://t.co/WjVY1yupey","entities":{"url":{"urls":[{"url":"http://t.co/WjVY1yupey","expanded_url":"http://cerulean.hatenablog.com/","display_url":"cerulean.hatenablog.com","indices":[0,22]}]},"description":{"urls":[]}},"protected":false,"followers_count":39,"friends_count":54,"listed_count":2,"created_at":"Wed Nov 07 07:39:30 +0000 2012","favourites_count":163,"utc_offset":null,"time_zone":null,"geo_enabled":false,"verified":false,"statuses_count":1107,"lang":"ja","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"000000","profile_background_image_url":"http://pbs.twimg.com/profile_background_images/378800000159080405/fViXiKs-.jpeg","profile_background_image_url_https":"https://pbs.twimg.com/profile_background_images/378800000159080405/fViXiKs-.jpeg","profile_background_tile":false,"profile_image_url":"http://pbs.twimg.com/profile_images/473361670740258816/hZcAoHjr_normal.png","profile_image_url_https":"https://pbs.twimg.com/profile_images/473361670740258816/hZcAoHjr_normal.png","profile_banner_url":"https://pbs.twimg.com/profile_banners/931483704/1354206472","profile_link_color":"0084B4","profile_sidebar_border_color":"FFFFFF","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"default_profile":false,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"retweet_count":0,"favorite_count":1,"entities":{"hashtags":[],"symbols":[],"user_mentions":[],"urls":[],"media":[{"id":529615013414068224,"id_str":"529615013414068224","indices":[113,135],"media_url":"http://pbs.twimg.com/media/B1mSDHZCYAAV76B.jpg","media_url_https":"https://pbs.twimg.com/media/B1mSDHZCYAAV76B.jpg","url":"http://t.co/XjieeVDMjQ","display_url":"pic.twitter.com/XjieeVDMjQ","expanded_url":"http://twitter.com/hrk0619/status/529615031671853056/photo/1","type":"photo","sizes":{"small":{"w":340,"h":340,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"medium":{"w":600,"h":600,"resize":"fit"},"large":{"w":1024,"h":1024,"resize":"fit"}}}]},"extended_entities":{"media":[{"id":529615013414068224,"id_str":"529615013414068224","indices":[113,135],"media_url":"http://pbs.twimg.com/media/B1mSDHZCYAAV76B.jpg","media_url_https":"https://pbs.twimg.com/media/B1mSDHZCYAAV76B.jpg","url":"http://t.co/XjieeVDMjQ","display_url":"pic.twitter.com/XjieeVDMjQ","expanded_url":"http://twitter.com/hrk0619/status/529615031671853056/photo/1","type":"photo","sizes":{"small":{"w":340,"h":340,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"medium":{"w":600,"h":600,"resize":"fit"},"large":{"w":1024,"h":1024,"resize":"fit"}}}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"lang":"ja"},
    {"created_at":"Tue Nov 04 09:08:21 +0000 2014","id":529560773014458369,"id_str":"529560773014458369","text":"とはいえ、大事な中身の実装がこれからだし設計してないし先は長い…おもちゃアプリ作るだけでもまだまだ時間かかる","source":"<a href=\"https://itunes.apple.com/us/app/theworld-for-ios/id548994749?mt=8&uo=4\" rel=\"nofollow\">TheWorld for iOS_</a>","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":931483704,"id_str":"931483704","name":"Hiroka Hamada","screen_name":"hrk0619","location":"","profile_location":null,"description":"プログラマー(Lv0.4)がきっと泣き言をつぶやいてます。ScalaねいてぃぶなのにJavaかいてるなう。医療系出身。お休みの日はニコ動で歌ってみたりも@rosyvent","url":"http://t.co/WjVY1yupey","entities":{"url":{"urls":[{"url":"http://t.co/WjVY1yupey","expanded_url":"http://cerulean.hatenablog.com/","display_url":"cerulean.hatenablog.com","indices":[0,22]}]},"description":{"urls":[]}},"protected":false,"followers_count":39,"friends_count":54,"listed_count":2,"created_at":"Wed Nov 07 07:39:30 +0000 2012","favourites_count":163,"utc_offset":null,"time_zone":null,"geo_enabled":false,"verified":false,"statuses_count":1107,"lang":"ja","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"000000","profile_background_image_url":"http://pbs.twimg.com/profile_background_images/378800000159080405/fViXiKs-.jpeg","profile_background_image_url_https":"https://pbs.twimg.com/profile_background_images/378800000159080405/fViXiKs-.jpeg","profile_background_tile":false,"profile_image_url":"http://pbs.twimg.com/profile_images/473361670740258816/hZcAoHjr_normal.png","profile_image_url_https":"https://pbs.twimg.com/profile_images/473361670740258816/hZcAoHjr_normal.png","profile_banner_url":"https://pbs.twimg.com/profile_banners/931483704/1354206472","profile_link_color":"0084B4","profile_sidebar_border_color":"FFFFFF","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"default_profile":false,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[],"symbols":[],"user_mentions":[],"urls":[]},"favorited":false,"retweeted":false,"lang":"ja"},
    {"created_at":"Tue Nov 04 09:02:25 +0000 2014","id":529559278609113088,"id_str":"529559278609113088","text":"うん、なんとなく動くようになった。\nサイコパス2期やってる間にリリースしたい…もしくは映画版に合わせてとか笑","source":"<a href=\"https://itunes.apple.com/us/app/theworld-for-ios/id548994749?mt=8&uo=4\" rel=\"nofollow\">TheWorld for iOS_</a>","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":931483704,"id_str":"931483704","name":"Hiroka Hamada","screen_name":"hrk0619","location":"","profile_location":null,"description":"プログラマー(Lv0.4)がきっと泣き言をつぶやいてます。ScalaねいてぃぶなのにJavaかいてるなう。医療系出身。お休みの日はニコ動で歌ってみたりも@rosyvent","url":"http://t.co/WjVY1yupey","entities":{"url":{"urls":[{"url":"http://t.co/WjVY1yupey","expanded_url":"http://cerulean.hatenablog.com/","display_url":"cerulean.hatenablog.com","indices":[0,22]}]},"description":{"urls":[]}},"protected":false,"followers_count":39,"friends_count":54,"listed_count":2,"created_at":"Wed Nov 07 07:39:30 +0000 2012","favourites_count":163,"utc_offset":null,"time_zone":null,"geo_enabled":false,"verified":false,"statuses_count":1107,"lang":"ja","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"000000","profile_background_image_url":"http://pbs.twimg.com/profile_background_images/378800000159080405/fViXiKs-.jpeg","profile_background_image_url_https":"https://pbs.twimg.com/profile_background_images/378800000159080405/fViXiKs-.jpeg","profile_background_tile":false,"profile_image_url":"http://pbs.twimg.com/profile_images/473361670740258816/hZcAoHjr_normal.png","profile_image_url_https":"https://pbs.twimg.com/profile_images/473361670740258816/hZcAoHjr_normal.png","profile_banner_url":"https://pbs.twimg.com/profile_banners/931483704/1354206472","profile_link_color":"0084B4","profile_sidebar_border_color":"FFFFFF","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"default_profile":false,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[],"symbols":[],"user_mentions":[],"urls":[]},"favorited":false,"retweeted":false,"lang":"ja"},
    {"created_at":"Tue Nov 04 03:44:47 +0000 2014","id":529479342212931584,"id_str":"529479342212931584","text":"緊急時こそ平常心大事ネー。","source":"<a href=\"https://itunes.apple.com/us/app/theworld-for-ios/id548994749?mt=8&uo=4\" rel=\"nofollow\">TheWorld for iOS_</a>","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":931483704,"id_str":"931483704","name":"Hiroka Hamada","screen_name":"hrk0619","location":"","profile_location":null,"description":"プログラマー(Lv0.4)がきっと泣き言をつぶやいてます。ScalaねいてぃぶなのにJavaかいてるなう。医療系出身。お休みの日はニコ動で歌ってみたりも@rosyvent","url":"http://t.co/WjVY1yupey","entities":{"url":{"urls":[{"url":"http://t.co/WjVY1yupey","expanded_url":"http://cerulean.hatenablog.com/","display_url":"cerulean.hatenablog.com","indices":[0,22]}]},"description":{"urls":[]}},"protected":false,"followers_count":39,"friends_count":54,"listed_count":2,"created_at":"Wed Nov 07 07:39:30 +0000 2012","favourites_count":163,"utc_offset":null,"time_zone":null,"geo_enabled":false,"verified":false,"statuses_count":1107,"lang":"ja","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"000000","profile_background_image_url":"http://pbs.twimg.com/profile_background_images/378800000159080405/fViXiKs-.jpeg","profile_background_image_url_https":"https://pbs.twimg.com/profile_background_images/378800000159080405/fViXiKs-.jpeg","profile_background_tile":false,"profile_image_url":"http://pbs.twimg.com/profile_images/473361670740258816/hZcAoHjr_normal.png","profile_image_url_https":"https://pbs.twimg.com/profile_images/473361670740258816/hZcAoHjr_normal.png","profile_banner_url":"https://pbs.twimg.com/profile_banners/931483704/1354206472","profile_link_color":"0084B4","profile_sidebar_border_color":"FFFFFF","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"default_profile":false,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[],"symbols":[],"user_mentions":[],"urls":[]},"favorited":false,"retweeted":false,"lang":"ja"},
    {"created_at":"Tue Nov 04 03:43:39 +0000 2014","id":529479056706650112,"id_str":"529479056706650112","text":"慌てると、落ち着くまでにしたいくつかの内容がミスってることが多い私です。\nメールも全員に返信で送ったつもりでいたら、そもそも私宛でしかないメールでござった。もう大丈夫、落ち着いたもんね！","source":"<a href=\"https://itunes.apple.com/us/app/theworld-for-ios/id548994749?mt=8&uo=4\" rel=\"nofollow\">TheWorld for iOS_</a>","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":931483704,"id_str":"931483704","name":"Hiroka Hamada","screen_name":"hrk0619","location":"","profile_location":null,"description":"プログラマー(Lv0.4)がきっと泣き言をつぶやいてます。ScalaねいてぃぶなのにJavaかいてるなう。医療系出身。お休みの日はニコ動で歌ってみたりも@rosyvent","url":"http://t.co/WjVY1yupey","entities":{"url":{"urls":[{"url":"http://t.co/WjVY1yupey","expanded_url":"http://cerulean.hatenablog.com/","display_url":"cerulean.hatenablog.com","indices":[0,22]}]},"description":{"urls":[]}},"protected":false,"followers_count":39,"friends_count":54,"listed_count":2,"created_at":"Wed Nov 07 07:39:30 +0000 2012","favourites_count":163,"utc_offset":null,"time_zone":null,"geo_enabled":false,"verified":false,"statuses_count":1107,"lang":"ja","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"000000","profile_background_image_url":"http://pbs.twimg.com/profile_background_images/378800000159080405/fViXiKs-.jpeg","profile_background_image_url_https":"https://pbs.twimg.com/profile_background_images/378800000159080405/fViXiKs-.jpeg","profile_background_tile":false,"profile_image_url":"http://pbs.twimg.com/profile_images/473361670740258816/hZcAoHjr_normal.png","profile_image_url_https":"https://pbs.twimg.com/profile_images/473361670740258816/hZcAoHjr_normal.png","profile_banner_url":"https://pbs.twimg.com/profile_banners/931483704/1354206472","profile_link_color":"0084B4","profile_sidebar_border_color":"FFFFFF","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"default_profile":false,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[],"symbols":[],"user_mentions":[],"urls":[]},"favorited":false,"retweeted":false,"lang":"ja"},
    {"created_at":"Tue Nov 04 03:17:19 +0000 2014","id":529472432893992960,"id_str":"529472432893992960","text":"はずかちい、打ち合わせの日にち間違えたはずかちいww\nめずらしく上司に行ってきます！って言ったら、電車乗る前に日にち違ってない？ってお電話いただいた…よかったよかった。","source":"<a href=\"https://itunes.apple.com/us/app/theworld-for-ios/id548994749?mt=8&uo=4\" rel=\"nofollow\">TheWorld for iOS_</a>","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":931483704,"id_str":"931483704","name":"Hiroka Hamada","screen_name":"hrk0619","location":"","profile_location":null,"description":"プログラマー(Lv0.4)がきっと泣き言をつぶやいてます。ScalaねいてぃぶなのにJavaかいてるなう。医療系出身。お休みの日はニコ動で歌ってみたりも@rosyvent","url":"http://t.co/WjVY1yupey","entities":{"url":{"urls":[{"url":"http://t.co/WjVY1yupey","expanded_url":"http://cerulean.hatenablog.com/","display_url":"cerulean.hatenablog.com","indices":[0,22]}]},"description":{"urls":[]}},"protected":false,"followers_count":39,"friends_count":54,"listed_count":2,"created_at":"Wed Nov 07 07:39:30 +0000 2012","favourites_count":163,"utc_offset":null,"time_zone":null,"geo_enabled":false,"verified":false,"statuses_count":1107,"lang":"ja","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"000000","profile_background_image_url":"http://pbs.twimg.com/profile_background_images/378800000159080405/fViXiKs-.jpeg","profile_background_image_url_https":"https://pbs.twimg.com/profile_background_images/378800000159080405/fViXiKs-.jpeg","profile_background_tile":false,"profile_image_url":"http://pbs.twimg.com/profile_images/473361670740258816/hZcAoHjr_normal.png","profile_image_url_https":"https://pbs.twimg.com/profile_images/473361670740258816/hZcAoHjr_normal.png","profile_banner_url":"https://pbs.twimg.com/profile_banners/931483704/1354206472","profile_link_color":"0084B4","profile_sidebar_border_color":"FFFFFF","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"default_profile":false,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"retweet_count":1,"favorite_count":0,"entities":{"hashtags":[],"symbols":[],"user_mentions":[],"urls":[]},"favorited":false,"retweeted":false,"lang":"ja"},
    {"created_at":"Fri Oct 31 10:47:34 +0000 2014","id":528136187874004992,"id_str":"528136187874004992","text":"鬼灯様とかいらっしゃってませんかね鬼灯様ぁあ","source":"<a href=\"https://itunes.apple.com/us/app/theworld-for-ios/id548994749?mt=8&uo=4\" rel=\"nofollow\">TheWorld for iOS_</a>","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":931483704,"id_str":"931483704","name":"Hiroka Hamada","screen_name":"hrk0619","location":"","profile_location":null,"description":"プログラマー(Lv0.4)がきっと泣き言をつぶやいてます。ScalaねいてぃぶなのにJavaかいてるなう。医療系出身。お休みの日はニコ動で歌ってみたりも@rosyvent","url":"http://t.co/WjVY1yupey","entities":{"url":{"urls":[{"url":"http://t.co/WjVY1yupey","expanded_url":"http://cerulean.hatenablog.com/","display_url":"cerulean.hatenablog.com","indices":[0,22]}]},"description":{"urls":[]}},"protected":false,"followers_count":39,"friends_count":54,"listed_count":2,"created_at":"Wed Nov 07 07:39:30 +0000 2012","favourites_count":163,"utc_offset":null,"time_zone":null,"geo_enabled":false,"verified":false,"statuses_count":1107,"lang":"ja","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"000000","profile_background_image_url":"http://pbs.twimg.com/profile_background_images/378800000159080405/fViXiKs-.jpeg","profile_background_image_url_https":"https://pbs.twimg.com/profile_background_images/378800000159080405/fViXiKs-.jpeg","profile_background_tile":false,"profile_image_url":"http://pbs.twimg.com/profile_images/473361670740258816/hZcAoHjr_normal.png","profile_image_url_https":"https://pbs.twimg.com/profile_images/473361670740258816/hZcAoHjr_normal.png","profile_banner_url":"https://pbs.twimg.com/profile_banners/931483704/1354206472","profile_link_color":"0084B4","profile_sidebar_border_color":"FFFFFF","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"default_profile":false,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"retweet_count":1,"favorite_count":0,"entities":{"hashtags":[],"symbols":[],"user_mentions":[],"urls":[]},"favorited":false,"retweeted":false,"lang":"ja"},
    {"created_at":"Fri Oct 31 10:44:13 +0000 2014","id":528135346223984640,"id_str":"528135346223984640","text":"魔女とかバンパイア見る度に思うんですが、ここ日本なんで！！いねーから！！やるなら妖怪だろ！！！","source":"<a href=\"https://itunes.apple.com/us/app/theworld-for-ios/id548994749?mt=8&uo=4\" rel=\"nofollow\">TheWorld for iOS_</a>","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":931483704,"id_str":"931483704","name":"Hiroka Hamada","screen_name":"hrk0619","location":"","profile_location":null,"description":"プログラマー(Lv0.4)がきっと泣き言をつぶやいてます。ScalaねいてぃぶなのにJavaかいてるなう。医療系出身。お休みの日はニコ動で歌ってみたりも@rosyvent","url":"http://t.co/WjVY1yupey","entities":{"url":{"urls":[{"url":"http://t.co/WjVY1yupey","expanded_url":"http://cerulean.hatenablog.com/","display_url":"cerulean.hatenablog.com","indices":[0,22]}]},"description":{"urls":[]}},"protected":false,"followers_count":39,"friends_count":54,"listed_count":2,"created_at":"Wed Nov 07 07:39:30 +0000 2012","favourites_count":163,"utc_offset":null,"time_zone":null,"geo_enabled":false,"verified":false,"statuses_count":1107,"lang":"ja","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"000000","profile_background_image_url":"http://pbs.twimg.com/profile_background_images/378800000159080405/fViXiKs-.jpeg","profile_background_image_url_https":"https://pbs.twimg.com/profile_background_images/378800000159080405/fViXiKs-.jpeg","profile_background_tile":false,"profile_image_url":"http://pbs.twimg.com/profile_images/473361670740258816/hZcAoHjr_normal.png","profile_image_url_https":"https://pbs.twimg.com/profile_images/473361670740258816/hZcAoHjr_normal.png","profile_banner_url":"https://pbs.twimg.com/profile_banners/931483704/1354206472","profile_link_color":"0084B4","profile_sidebar_border_color":"FFFFFF","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"default_profile":false,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[],"symbols":[],"user_mentions":[],"urls":[]},"favorited":false,"retweeted":false,"lang":"ja"},
    {"created_at":"Fri Oct 31 10:08:45 +0000 2014","id":528126421521035264,"id_str":"528126421521035264","text":"何だかコスプレして歩いてる方多いですね","source":"<a href=\"https://itunes.apple.com/us/app/theworld-for-ios/id548994749?mt=8&uo=4\" rel=\"nofollow\">TheWorld for iOS_</a>","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":931483704,"id_str":"931483704","name":"Hiroka Hamada","screen_name":"hrk0619","location":"","profile_location":null,"description":"プログラマー(Lv0.4)がきっと泣き言をつぶやいてます。ScalaねいてぃぶなのにJavaかいてるなう。医療系出身。お休みの日はニコ動で歌ってみたりも@rosyvent","url":"http://t.co/WjVY1yupey","entities":{"url":{"urls":[{"url":"http://t.co/WjVY1yupey","expanded_url":"http://cerulean.hatenablog.com/","display_url":"cerulean.hatenablog.com","indices":[0,22]}]},"description":{"urls":[]}},"protected":false,"followers_count":39,"friends_count":54,"listed_count":2,"created_at":"Wed Nov 07 07:39:30 +0000 2012","favourites_count":163,"utc_offset":null,"time_zone":null,"geo_enabled":false,"verified":false,"statuses_count":1107,"lang":"ja","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"000000","profile_background_image_url":"http://pbs.twimg.com/profile_background_images/378800000159080405/fViXiKs-.jpeg","profile_background_image_url_https":"https://pbs.twimg.com/profile_background_images/378800000159080405/fViXiKs-.jpeg","profile_background_tile":false,"profile_image_url":"http://pbs.twimg.com/profile_images/473361670740258816/hZcAoHjr_normal.png","profile_image_url_https":"https://pbs.twimg.com/profile_images/473361670740258816/hZcAoHjr_normal.png","profile_banner_url":"https://pbs.twimg.com/profile_banners/931483704/1354206472","profile_link_color":"0084B4","profile_sidebar_border_color":"FFFFFF","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"default_profile":false,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"retweet_count":1,"favorite_count":0,"entities":{"hashtags":[],"symbols":[],"user_mentions":[],"urls":[]},"favorited":false,"retweeted":false,"lang":"ja"},
    {"created_at":"Fri Oct 31 04:54:39 +0000 2014","id":528047374438912000,"id_str":"528047374438912000","text":"はてなブログに投稿しました\nRuntimeException: java.lang.UnsupportedClassVersionError の解消 - ルーズリーフ\nhttp://t.co/mTNhyezIfZ","source":"<a href=\"http://www.hatena.ne.jp/guide/twitter\" rel=\"nofollow\">Hatena</a>","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":931483704,"id_str":"931483704","name":"Hiroka Hamada","screen_name":"hrk0619","location":"","profile_location":null,"description":"プログラマー(Lv0.4)がきっと泣き言をつぶやいてます。ScalaねいてぃぶなのにJavaかいてるなう。医療系出身。お休みの日はニコ動で歌ってみたりも@rosyvent","url":"http://t.co/WjVY1yupey","entities":{"url":{"urls":[{"url":"http://t.co/WjVY1yupey","expanded_url":"http://cerulean.hatenablog.com/","display_url":"cerulean.hatenablog.com","indices":[0,22]}]},"description":{"urls":[]}},"protected":false,"followers_count":39,"friends_count":54,"listed_count":2,"created_at":"Wed Nov 07 07:39:30 +0000 2012","favourites_count":163,"utc_offset":null,"time_zone":null,"geo_enabled":false,"verified":false,"statuses_count":1107,"lang":"ja","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"000000","profile_background_image_url":"http://pbs.twimg.com/profile_background_images/378800000159080405/fViXiKs-.jpeg","profile_background_image_url_https":"https://pbs.twimg.com/profile_background_images/378800000159080405/fViXiKs-.jpeg","profile_background_tile":false,"profile_image_url":"http://pbs.twimg.com/profile_images/473361670740258816/hZcAoHjr_normal.png","profile_image_url_https":"https://pbs.twimg.com/profile_images/473361670740258816/hZcAoHjr_normal.png","profile_banner_url":"https://pbs.twimg.com/profile_banners/931483704/1354206472","profile_link_color":"0084B4","profile_sidebar_border_color":"FFFFFF","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"default_profile":false,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[],"symbols":[],"user_mentions":[],"urls":[{"url":"http://t.co/mTNhyezIfZ","expanded_url":"http://cerulean.hatenablog.com/entry/2014/10/31/135424","display_url":"cerulean.hatenablog.com/entry/2014/10/…","indices":[84,106]}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"lang":"ja"}]
  """
    val testJson = Json.parse(testTweets)

  "AnalyzeTweet phase" should {

    "試験用JSONが長さ10のリストに分割される" in new WithApplication {
      val resList = Analyze.splitJson(testJson)
      resList.size must beEqualTo (10)
    }
    
    "試験用JSONのtextが正しく取得でき、形態素解析が完了する" in new WithApplication {
      val resList = Analyze.splitJson(testJson)
      resList foreach { text =>
        text.length() must beGreaterThan(10)
      }
      resList foreach { tweet =>
        Analyze.parseTweet(tweet).getNext().getSurface() must be contain ("hoge")
      }
      resList(0) must contain ("今日は社内SNS企画のオフ会で")
    }
    
    "「暖かい」は形容詞である" in {
      "" must beEqualTo ("")
    }

  }

}

